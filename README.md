| # | 目次 |
| ---- | ---|
| 1 | [ジムイキタイとは](#ジムイキタイとは) |
| 2 | [作成背景](#作成背景) |
| 3 | [ER図](#er図) |
| 4 | [画面遷移図](#画面遷移図) |
| 5 | [使用技術](#使用技術) |
| 6 | [機能一覧](#機能一覧) |
| 7 | [工夫した点](#工夫した点) |

<br />

# :weight_lifting_man:ジムイキタイ
![ジムイキタイーとは](/img/welcomepage.png)
ジムイキタイはジムの情報を登録し、登録してあるジムに対して口コミを投稿することができるアプリです。<br />
これからジムに通いたい人、いつもと違うジムに行きたい人、そういった人たちが、その人に合った最適のジムを見つけるためのアプリです。
<br />

# 作成背景
現在フィットネスブームで筋トレ人口が増えており、それに伴いさまざまなジムができています。
そのため、これから筋トレをしたいと思っても、選択肢が多く、どのジムに通うべきか迷ってしまいます。
また、ジムによって置いてある器具もさまざまです。出張や旅行などで県外に来ていて、いつもとは違うジムに行く時、好みの器具がなくやりたい種目ができないなんということも多々あります。
そこで、ジムの設備や置いてある器具、そのジムに行ったことがある人の口コミを見ることができたら、きっとその人にとって最適なジムを見つけることができると考え、このアプリを作成することにしました。

<br />

# ER図
![ER図](/img/ER.drawio.png)

<br />

# 画面遷移図
![画面遷移図](/img/pages.drawio.png)

# 使用技術
| バックエンド
----|
| PHP 8.2.10 |
| Laravel 10.22.0 |
| MySQL 8.0.32|
| Nginx 1.25 |
<br />

| フロントエンド
----|
| Blade |
<br />


| インフラ
----|
| Docker / docker-compose  |

<br />


# 機能一覧
- ユーザー登録
- ログイン
- ログアウト
- ユーザー情報編集
- ジム新規登録
- ジム情報編集
- ジム削除
- ジムに対する口コミ投稿
- ジムに対するいいね
- ジム検索

<br />

# 工夫した点
## バックエンド
- ファットコントローラー防止のため、ServiceとRepositoryにタスクを切り分け

<br />

## フロントエンド
- シンプルで分かりやすいUIを採用
- いいね機能はボタンを押してすぐにボタンの色が変わるようajax通信を使用

<br />

## インフラ
- Dockerを採用することで複数人でも同じ環境を構築

# 苦労した点
## バックエンド
- 切り分けをどのように分担するのか

## Docker
- Dockerを使った開発環境の構築に苦労した。Udemyで教材を見つけ、勉強し、そこで学んだことを生かして環境構築をした。Dockerとは何か、Dockerfileやcompose.ymlファイルの書き方など、Dockerについての知識を身につけることができた。

## AWS
- ECSへデプロイする際に、開発環境と本番環境の違いからDockerfileを変更する必要があったり、開発環境ではうまくいっていたAPI通信が本番環境でできなくなりその原因を探ったりするのが大変だった。自分で調べてもわからない部分は、MENTAというメンタリングサービスでDockerとAWSに詳しい方を見つけ、その方に教えていただきながら、デプロイまですることができた。

# 引き続き取り組みたい点
- 現在の混雑状況のみではなく、過去の混雑状況を表示できたり、そのデータをもとに、混雑予測ができるような機能をつけたい。そうすることで、施設側は、効率的なスタッフ配備に活かすことができ、人件費の削減にもつながると考えた。

- 現在はブラウザから直接バックエンドにリクエストを送っている状態で、セキュリティ上問題があるため、リクエストは全てフロントエンドで受けて、APIリクエストはリバースプロキシによってフロントエンドからバックエンドにリクエストが送られるように変更し、バックエンドのECSはフロントエンドのECSからのみの通信をセキュリティグループで許可することで、もっとセキュアな構成にしたい。そのためにもnginxの設定の書き方を今後学ぶ必要がある。